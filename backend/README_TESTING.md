# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞—É–∫—Ü–∏–æ–Ω–æ–≤ - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –°–æ–∑–¥–∞–Ω—ã:
- ‚úÖ 3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞ (Vitest)
- ‚úÖ 1 —Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç (Manual Script)
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB –∏ Redis –∑–∞–ø—É—â–µ–Ω—ã
mongosh --eval "db.adminCommand('ping')"
redis-cli ping

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç
cd backend
pnpm test:manual
```

–≠—Ç–æ—Ç —Ç–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤–µ—Å—å —Ü–∏–∫–ª –∞—É–∫—Ü–∏–æ–Ω–∞.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
backend/src/
‚îú‚îÄ‚îÄ __tests__/
‚îÇ   ‚îî‚îÄ‚îÄ manualAuctionTest.ts          # –†—É—á–Ω–æ–π —Ç–µ—Å—Ç —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ auction/__tests__/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auctionFullCycle.test.ts   # –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞—É–∫—Ü–∏–æ–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ bid/__tests__/
‚îÇ       ‚îî‚îÄ‚îÄ bidService.test.ts         # –¢–µ—Å—Ç—ã BidService
‚îî‚îÄ‚îÄ services/__tests__/
    ‚îî‚îÄ‚îÄ settlementService.test.ts      # –¢–µ—Å—Ç—ã SettlementService
```

## üß™ –¢–µ—Å—Ç—ã

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª

**–§–∞–π–ª:** `src/api/auction/__tests__/auctionFullCycle.test.ts`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞
- ‚úÖ –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ –æ—Ç 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ó–∞–º–æ—Ä–æ–∑–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–∞—É–Ω–¥–∞
- ‚úÖ Settlement (–ø–æ–±–µ–¥–∏—Ç–µ–ª–∏/–ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–∞—É–Ω–¥—É
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞
- ‚úÖ Edge cases

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm test auctionFullCycle
```

### 2. –¢–µ—Å—Ç—ã BidService

**–§–∞–π–ª:** `src/api/bid/__tests__/bidService.test.ts`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ç–∞–≤–∫–∏
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm test bidService
```

### 3. –¢–µ—Å—Ç—ã SettlementService

**–§–∞–π–ª:** `src/services/__tests__/settlementService.test.ts`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
- ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Å—Ç–∞–≤–æ–∫

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm test settlementService
```

### 4. –†—É—á–Ω–æ–π —Ç–µ—Å—Ç

**–§–∞–π–ª:** `src/__tests__/manualAuctionTest.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
- –í—ã–≤–æ–¥–∏—Ç —Ü–≤–µ—Ç–Ω—ã–µ –ª–æ–≥–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm test:manual
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –í—Å–µ EPIC –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:

- ‚úÖ **EPIC 1:** Auction Control Plane
- ‚úÖ **EPIC 2:** Redis Runtime State
- ‚úÖ **EPIC 3:** Bid Flow
- ‚úÖ **EPIC 4:** Round Timing Engine
- ‚úÖ **EPIC 5:** Settlement Logic
- ‚úÖ **EPIC 6:** –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏
- ‚úÖ **EPIC 7:** Recovery & Consistency
- ‚úÖ **EPIC 8:** Observability

### –í—Å–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:

- ‚úÖ 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = 1 —Å—Ç–∞–≤–∫–∞
- ‚úÖ –ë–∞–ª–∞–Ω—Å –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- ‚úÖ –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–º –¥–µ–Ω—å–≥–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è
- ‚úÖ –ù–µ—Ç –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–∞–≤–¥—ã
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω –¥–≤–æ–π–Ω–æ–π settlement

### –í—Å–µ edge cases –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:

- ‚úÖ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–∞–ª–∞–Ω—Å
- ‚úÖ –î—É–±–ª–∏–∫–∞—Ç —Å—Ç–∞–≤–∫–∏
- ‚úÖ –°—Ç–∞–≤–∫–∞ –ø—Ä–∏ settling
- ‚úÖ Tie-breaking
- ‚úÖ –ü—É—Å—Ç—ã–µ —Å—Ç–∞–≤–∫–∏
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–∞—Ä–∫–æ–≤

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **`TESTING_GUIDE.md`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
2. **`TESTING_COMPLETE.md`** - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
3. **`TEST_RESULTS.md`** - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
4. **`QUICK_TEST.md`** - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
5. **`TEST_SUMMARY.md`** - –°–≤–æ–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤
6. **`README_TESTING.md`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
pnpm test:manual  # –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### –î–ª—è CI/CD:
```bash
pnpm test  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```

### –î–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```bash
pnpm test --watch  # Watch —Ä–µ–∂–∏–º
pnpm test:cov      # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
```

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**
‚úÖ **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã**
‚úÖ **–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã**
‚úÖ **–ì–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
